{"version":3,"file":"module.cjs","sources":["../../../../../../../node_modules/@sentry/node/esm/module.js"],"sourcesContent":["import { posix, sep } from 'path';\n\nconst isWindowsPlatform = sep === '\\\\';\n\n/** normalizes Windows paths */\nfunction normalizeWindowsPath(path) {\n  return path\n    .replace(/^[A-Z]:/, '') // remove Windows-style prefix\n    .replace(/\\\\/g, '/'); // replace all `\\` instances with `/`\n}\n\n/** Gets the module from a filename */\nfunction getModuleFromFilename(\n  filename,\n  normalizeWindowsPathSeparator = isWindowsPlatform,\n) {\n  if (!filename) {\n    return;\n  }\n\n  const normalizedFilename = normalizeWindowsPathSeparator ? normalizeWindowsPath(filename) : filename;\n\n  // eslint-disable-next-line prefer-const\n  let { root, dir, base: basename, ext } = posix.parse(normalizedFilename);\n\n  const base = (require && require.main && require.main.filename && dir) || global.process.cwd();\n\n  const normalizedBase = `${base}/`;\n\n  // It's specifically a module\n  let file = basename;\n\n  if (ext === '.js') {\n    file = file.slice(0, file.length - '.js'.length);\n  }\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    dir = '.';\n  }\n\n  let n = dir.lastIndexOf('/node_modules/');\n  if (n > -1) {\n    // /node_modules/ is 14 chars\n    return `${dir.slice(n + 14).replace(/\\//g, '.')}:${file}`;\n  }\n  // Let's see if it's a part of the main module\n  // To be a part of main module, it has to share the same base\n  n = `${dir}/`.lastIndexOf(normalizedBase, 0);\n\n  if (n === 0) {\n    let moduleName = dir.slice(normalizedBase.length).replace(/\\//g, '.');\n    if (moduleName) {\n      moduleName += ':';\n    }\n    moduleName += file;\n    return moduleName;\n  }\n  return file;\n}\n\nexport { getModuleFromFilename };\n//# sourceMappingURL=module.js.map\n"],"names":["sep","path","posix"],"mappings":";;;AAEA,MAAM,oBAAoBA,KAAG,QAAK;AAGlC,SAAS,qBAAqBC,OAAM;AAClC,SAAOA,MACJ,QAAQ,WAAW,EAAE,EACrB,QAAQ,OAAO,GAAG;AACvB;AAGA,SAAS,sBACP,UACA,gCAAgC,mBAChC;AACA,MAAI,CAAC,UAAU;AACb;AAAA,EACD;AAED,QAAM,qBAAqB,gCAAgC,qBAAqB,QAAQ,IAAI;AAG5F,MAAI,EAAE,MAAM,KAAK,MAAM,UAAU,IAAG,IAAKC,KAAK,MAAC,MAAM,kBAAkB;AAEvE,QAAM,OAAQ,WAAW,QAAQ,QAAQ,QAAQ,KAAK,YAAY,OAAQ,OAAO,QAAQ,IAAG;AAE5F,QAAM,iBAAiB,GAAG;AAG1B,MAAI,OAAO;AAEX,MAAI,QAAQ,OAAO;AACjB,WAAO,KAAK,MAAM,GAAG,KAAK,SAAS,MAAM,MAAM;AAAA,EAChD;AAED,MAAI,CAAC,QAAQ,CAAC,KAAK;AAEjB,UAAM;AAAA,EACP;AAED,MAAI,IAAI,IAAI,YAAY,gBAAgB;AACxC,MAAI,IAAI,IAAI;AAEV,WAAO,GAAG,IAAI,MAAM,IAAI,EAAE,EAAE,QAAQ,OAAO,GAAG,KAAK;AAAA,EACpD;AAGD,MAAI,GAAG,OAAO,YAAY,gBAAgB,CAAC;AAE3C,MAAI,MAAM,GAAG;AACX,QAAI,aAAa,IAAI,MAAM,eAAe,MAAM,EAAE,QAAQ,OAAO,GAAG;AACpE,QAAI,YAAY;AACd,oBAAc;AAAA,IACf;AACD,kBAAc;AACd,WAAO;AAAA,EACR;AACD,SAAO;AACT;;","x_google_ignoreList":[0]}