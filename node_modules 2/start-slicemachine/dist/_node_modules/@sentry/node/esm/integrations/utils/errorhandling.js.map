{"version":3,"file":"errorhandling.js","sources":["../../../../../../../../../node_modules/@sentry/node/esm/integrations/utils/errorhandling.js"],"sourcesContent":["import { getCurrentHub } from '@sentry/core';\nimport { logger } from '@sentry/utils';\n\nconst DEFAULT_SHUTDOWN_TIMEOUT = 2000;\n\n/**\n * @hidden\n */\nfunction logAndExitProcess(error) {\n  // eslint-disable-next-line no-console\n  console.error(error);\n\n  const client = getCurrentHub().getClient();\n\n  if (client === undefined) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('No NodeClient was defined, we are exiting the process now.');\n    global.process.exit(1);\n  }\n\n  const options = client.getOptions();\n  const timeout =\n    (options && options.shutdownTimeout && options.shutdownTimeout > 0 && options.shutdownTimeout) ||\n    DEFAULT_SHUTDOWN_TIMEOUT;\n  client.close(timeout).then(\n    (result) => {\n      if (!result) {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('We reached the timeout for emptying the request buffer, still exiting now!');\n      }\n      global.process.exit(1);\n    },\n    error => {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error(error);\n    },\n  );\n}\n\nexport { logAndExitProcess };\n//# sourceMappingURL=errorhandling.js.map\n"],"names":["error"],"mappings":";;AAGA,MAAM,2BAA2B;AAKjC,SAAS,kBAAkB,OAAO;AAEhC,UAAQ,MAAM,KAAK;AAEnB,QAAM,SAAS,gBAAgB;AAE/B,MAAI,WAAW,QAAW;AACxB,KAAC,OAAO,qBAAqB,eAAe,qBAAqB,OAAO,KAAK,4DAA4D;AACzI,WAAO,QAAQ,KAAK,CAAC;AAAA,EACtB;AAED,QAAM,UAAU,OAAO;AACvB,QAAM,UACH,WAAW,QAAQ,mBAAmB,QAAQ,kBAAkB,KAAK,QAAQ,mBAC9E;AACF,SAAO,MAAM,OAAO,EAAE;AAAA,IACpB,CAAC,WAAW;AACV,UAAI,CAAC,QAAQ;AACX,SAAC,OAAO,qBAAqB,eAAe,qBAAqB,OAAO,KAAK,4EAA4E;AAAA,MAC1J;AACD,aAAO,QAAQ,KAAK,CAAC;AAAA,IACtB;AAAA,IACD,CAAAA,WAAS;AACP,OAAC,OAAO,qBAAqB,eAAe,qBAAqB,OAAO,MAAMA,MAAK;AAAA,IACpF;AAAA,EACL;AACA;","x_google_ignoreList":[0]}